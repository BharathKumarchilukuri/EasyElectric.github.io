<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <title>Commercial Permit</title>
</head>
<body onload="Load()">
    <script type="module" src="AllPageLoad.js"></script>
    <header>
        <nav class="text-white navbar navbar-expand-xl bg-dark p-2">
            <div>
                <!-- EE- Easy Electric -->
                <h1 class="bg-dark text-bold h1 p-2 m-1">E Bill</h1>
            </div>
            <button class="navbar-toggler bg-info" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class=" collapse navbar-collapse justify-content-between" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PageHome.html">Home</a>
                    </li>

                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PageManageConnections.html">Manage Connections</a>
                    </li>

                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PagePayBill.html">Pay Bill</a>
                    </li>

                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PagePaymentHistory.html">Payment History</a>
                    </li>

                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PageAlerts.html">Alerts</a>
                    </li>

                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PageUserAccount.html">Account</a>
                    </li>

                    <li class="nav-item dropdown rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Other
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="PageServices.html">Services</a>
                          <a class="dropdown-item" href="PageMaintenance.html">Maintenance</a>
                          <a class="dropdown-item" href="PageFeedBack.html">FeedBack / Complain</a>
                          <a class="dropdown-item" href="PageShop.html">Shop</a>
                          <a class="dropdown-item" href="PageCommercialPermit.html">Commercial Permit</a>
                        </div>
                    </li>
                </ul>

                <ul class="navbar-nav">
                    <li class="nav-item rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" href="PageSignUp.html">Register</a>
                    </li>

                    <li class="nav-item bg-danger rounded ps-1 pe-1 m-1 ms-2 me-2">
                        <a class="nav-link text-white" id="logOutLink" href="index.html">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <main class="container w-100 my-5">
        <div class="card my-2">
            <div class="card-header">
                <h3 class="h3">Commercial Permit Application Form</h3>
            </div>
            <div class="card-body">
                <form id="supply-form">
                    <div class="border border-1 my-2">
                        <h4 class="h4 bg-light p-3">
                            <a href="#UserDetails" class="d-flex w-100 text-decoration-none text-dark" data-bs-toggle="collapse" data-bs-target="#UserDetails" aria-expanded="false" aria-controls="UserDetails">User Details</a>
                        </h4>
                        <div class="collapse show" id="UserDetails">
                            <div class="form-group p-3 py-2">
                                <label for="applicant-name">Applicant Name</label>
                                <input type="text" class="form-control" id="applicant-name" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="applicant-type">Applicant Type</label>
                                <select class="form-control" id="applicant-type" required>
                                    <option value="">Select</option>
                                    <option value="individual">Individual</option>
                                    <option value="business">Business</option>
                                </select>
                            </div>
                            <div class="form-group p-3 py-2" id="business-info" style="display: none;">
                                <label for="business-registration">Business Registration Number</label>
                                <input type="number" class="form-control" id="business-registration">
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="contact-person">Contact Person</label>
                                <input type="text" class="form-control" id="contact-person" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="email">Email address</label>
                                <input type="email" class="form-control" id="email" aria-describedby="emailHelp" autocomplete="email" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="phone">Phone Number</label>
                                <input type="tel" class="form-control" id="phone" autocomplete="tel" required>
                            </div>
                        </div>
                    </div>
                    <div class="border border-1 my-2">
                        <h4 class="h4 bg-light p-3">
                            <a href="#PropDetails" class="d-flex w-100 text-decoration-none text-dark" data-bs-toggle="collapse" data-bs-target="#PropDetails" aria-expanded="false" aria-controls="PropDetails">Property Details</a>
                        </h4>
                        <div class="collapse" id="PropDetails">
                            <div class="form-group p-3 py-2">
                                <label for="property-address">Property Address</label>
                                <input type="text" class="form-control" id="property-address" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="property-use">Property Use</label>
                                <input type="text" class="form-control" id="property-use" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="electric-load">Electric Load (in kW)</label>
                                <input type="number" class="form-control" id="electric-load" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="voltage-requirements">Voltage Requirements</label>
                                <input type="text" class="form-control" id="voltage-requirements" required>
                            </div>
                            <div class="form-group p-3 py-2">
                                <label for="other-requirements">Other Requirements</label>
                                <textarea class="form-control" id="other-requirements" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Application</button>
                </form>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-info">
                <h3 class="h3">Your Applications</h3>
            </div>
            <div class="card-body" id="ApplicationBody">

            </div>
        </div>
    </main>
    <footer class="position-sticky bottom-0 w-100 text-center p-2 bg-dark text-white">
        2024 Your Company. All rights reserved&reg;
    </footer>

    <script type="module" src="ExternalPageHome.js"></script>
    
    <script>
        document.getElementById('applicant-type').addEventListener('change', function() {
            const businessInfo = document.getElementById('business-info');
            if (this.value === 'business') {
                businessInfo.style.display = 'block';
            } else {
                businessInfo.style.display = 'none';
            }
        });

        let commercialAppData = [
            {
                applicantName: "ABC Manufacturing Co.",
                applicantType: "Business",
                contactPerson: "John Doe",
                email: "john.doe@abcmanufacturing.com",
                phone: "123-456-7890",
                propertyAddress: "123 Industrial Park, Cityville",
                propertyUse: "Manufacturing Plant",
                electricLoad: 150,
                voltageRequirements: "Three-phase, 480V",
                otherRequirements: "Backup generator integration",
                businessRegistration: "BR123456",
            },
            {
                applicantName: "XYZ Retail Inc.",
                applicantType: "Business",
                contactPerson: "Jane Smith",
                email: "jane.smith@xyzretail.com",
                phone: "987-654-3210",
                propertyAddress: "456 Shopping Center Blvd, Townsville",
                propertyUse: "Retail Store",
                electricLoad: 75,
                voltageRequirements: "Single-phase, 240V",
                otherRequirements: "Energy-efficient lighting",
                businessRegistration: "BR654321",
            },
            {
                applicantName: "LMN Hospitality",
                applicantType: "Business",
                contactPerson: "Emily Johnson",
                email: "emily.johnson@lmnhospitality.com",
                phone: "555-123-4567",
                propertyAddress: "789 Hotel Ave, Metropolis",
                propertyUse: "Hotel",
                electricLoad: 200,
                voltageRequirements: "Three-phase, 480V",
                otherRequirements: "Solar power integration",
                businessRegistration: "BR789123",
            }
        ];
    
        document.getElementById('supply-form').addEventListener('submit', function(event) {
            event.preventDefault();
            let ApplicationBody = document.getElementById("ApplicationBody");

            const applicantName = document.getElementById('applicant-name').value;
            const applicantType = document.getElementById('applicant-type').value;
            const businessRegno = document.getElementById('business-registration').value;
            const contactPerson = document.getElementById('contact-person').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const propertyAddress = document.getElementById('property-address').value;
            const propertyUse = document.getElementById('property-use').value
            const electricLoad = document.getElementById('electric-load').value;
            const voltageReq = document.getElementById('voltage-requirements').value;
            const otherReq = document.getElementById('other-requirements').value;

            commercialAppData.push({
                applicantName: applicantName,
                applicantType: applicantType,
                contactPerson: contactPerson,
                email: email,
                phone: phone,
                propertyAddress: propertyAddress,
                propertyUse: propertyUse,
                electricLoad: electricLoad,
                voltageRequirements: voltageReq,
                otherRequirements: otherReq,
                businessRegistration: businessRegno,
            });
            alert('Form submitted!');
        });

        function displaySampleData(data) {
            let ApplicationBody = document.getElementById("ApplicationBody");
            ApplicationBody.innerHTML = commercialAppData.map(application => `
                <div class="mt-3">
                    <p><strong>Applicant Name:</strong> ${application.applicantName}</p>
                    <p><strong>Applicantion Type:</strong> ${application.applicantType}</p>
                    <p><strong>Contact Person:</strong> ${application.contactPerson}</p>
                    <p><strong>Email:</strong> ${application.email}</p>
                    <p><strong>Phone:</strong> ${application.phone}</p>
                    <br>
                    <p><strong>Business Registration:</strong> ${application.businessRegistration}</p>
                    <p><strong>Property Address:</strong> ${application.propertyAddress}</p>
                    <p><strong>Property Use:</strong> ${application.propertyUse}</p>
                    <p><strong>Electric Load (kW):</strong> ${application.electricLoad}</p>
                    <p><strong>Voltage Requirements:</strong> ${application.voltageRequirements}</p>
                    <p><strong>Other Requirements:</strong> ${application.otherRequirements}</p>
                    <hr>
                </div>
            `).join('');
        }

        document.addEventListener('DOMContentLoaded', function() {
            displaySampleData(commercialAppData);
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>